{% extends "app/layout.html" %}

{% block content %}
<div class="container mt-4">
  <h2>üó£Ô∏è –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
  
  {% if form %}
    <form method="post" class="mt-3">
      {% csrf_token %}
      
      <!-- –ò–º—è -->
      <div class="mb-3">
        {{ form.name.label_tag }}
        {{ form.name }}
        {% if form.name.errors %}
          <div class="text-danger">{{ form.name.errors }}</div>
        {% endif %}
      </div>
      
      <!-- Email -->
      <div class="mb-3">
        {{ form.email.label_tag }}
        {{ form.email }}
      </div>
      
      <!-- –û—Ü–µ–Ω–∫–∞ -->
      <div class="mb-3">
        <label class="form-label">–û—Ü–µ–Ω–∫–∞ —Å–∞–π—Ç–∞:</label>
        <div class="form-check">
          {% for choice in form.rating %}
            {{ choice.tag }}
            <label class="form-check-label">{{ choice.choice_label }}</label><br>
          {% endfor %}
        </div>
      </div>
      
      <!-- –õ—é–±–∏–º—ã–π —Ä–∞–∑–¥–µ–ª -->
      <div class="mb-3">
        {{ form.favorite_section.label_tag }}
        {{ form.favorite_section }}
      </div>
      
      <!-- –î–∞—Ç–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è -->
		<div class="mb-3">
		  {{ form.visit_date.label_tag }}
		  {{ form.visit_date }}
		  {% if form.visit_date.errors %}
			<div class="text-danger">
			  {% for error in form.visit_date.errors %}
				{{ error }}<br>
			  {% endfor %}
			</div>
		  {% endif %}
		</div>
      
      <!-- –§–ª–∞–∂–æ–∫ -->
      <div class="mb-3 form-check">
        {{ form.newsletter }}
        {{ form.newsletter.label_tag }}
      </div>
      
      <!-- –°–æ–æ–±—â–µ–Ω–∏–µ -->
      <div class="mb-3">
        {{ form.message.label_tag }}
        {{ form.message }}
      </div>
      
      <button type="submit" id="submit-btn" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  
  {% else %}
    <div class="alert alert-success mt-3">
      <h3>‚úÖ –°–ø–∞—Å–∏–±–æ, {{ data.name }}!</h3>
      <ul class="list-unstyled mt-3">
        <li><strong>Email:</strong> {{ data.email }}</li>
        <li><strong>–û—Ü–µ–Ω–∫–∞:</strong> {{ data.rating }}</li>
        <li><strong>–õ—é–±–∏–º—ã–π —Ä–∞–∑–¥–µ–ª:</strong> {{ data.favorite_section }}</li>
        <li><strong>–ü–æ–¥–ø–∏—Å–∫–∞:</strong> {{ data.newsletter }}</li>
        <li><strong>–î–∞—Ç–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è:</strong> {{ data.visit_date }}</li>
        <li><strong>–°–æ–æ–±—â–µ–Ω–∏–µ:</strong> {{ data.message }}</li>
      </ul>
    </div>
  {% endif %}
</div>

<!-- JavaScript –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ -->
<script>
  $(document).ready(function() {
    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ–ª–µ–π –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
    $("input, textarea, select").focus(function() {
      $(this).css("box-shadow", "0 0 8px #80bdff");
    }).blur(function() {
      $(this).css("box-shadow", "none");
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
    $("#submit-btn").hover(
      function() {
        $(this).css("transform", "scale(1.05)");
      },
      function() {
        $(this).css("transform", "scale(1)");
      }
    );
  });
</script>
{% endblock %}